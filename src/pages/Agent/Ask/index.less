.ai-chat-container {
  height: calc(100vh - 40px); // 上下留出20px边距
  display: flex;
  flex-direction: column;
  margin: 20px; // 上下左右留出20px边距

  .chat-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    border-radius: 8px;

    .chat-container {
      display: flex;
      flex-direction: column;
      height: 100%;
      overflow: hidden;

      .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
        display: flex;
        flex-direction: column;
        gap: 20px;

        .message-item {
          display: flex;
          flex-direction: column;
          align-items: flex-start;

          &.user-message {
            align-items: flex-end;

            .message-content {
              flex-direction: row-reverse;

              .content {
                background-color: #f4f4f4;
                color: white;
                border-radius: 12px 4px 12px 12px;

                .wmde-markdown.wmde-markdown-color {
                  background-color: #f4f4f4;
                }
              }

              .avatar {
                margin-left: 12px;
                margin-right: 0;
              }
            }
          }

          .message-content {
            display: flex;
            flex-direction: row;
            max-width: 80%;
            gap: 12px;

            .avatar {
              flex-shrink: 0;
              width: 36px;
              height: 36px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              margin-right: 12px;
              font-weight: bold;
            }

            .ai-avatar {
              background-color: #f0f0f0;
              color: #333;
            }

            .user-avatar {
              background-color: #1677ff;
              color: white;
            }

            .content {
              padding: 12px 16px;
              border-radius: 4px 12px 12px;
              max-width: 100%;

              .markdown-content {
                background-color: #f0f0f0;

                :global {
                  // 标题样式
                  h1,
                  h2,
                  h3,
                  h4,
                  h5,
                  h6 {
                    margin: 16px 0 8px;
                    font-weight: 600;
                    line-height: 1.4;
                  }

                  h1 {
                    font-size: 2em;
                  }

                  h2 {
                    font-size: 1.5em;
                  }

                  h3 {
                    font-size: 1.25em;
                  }

                  // 段落样式
                  p {
                    margin: 8px 0;
                  }

                  // 代码块样式
                  pre {
                    background-color: #1f1f1f;
                    color: #fff;
                    padding: 12px;
                    border-radius: 4px;
                    overflow-x: auto;
                    margin: 12px 0;

                    code {
                      background-color: transparent;
                      padding: 0;
                      border-radius: 0;
                    }
                  }

                  // 行内代码样式
                  code {
                    background-color: #f0f0f0;
                    padding: 2px 4px;
                    border-radius: 2px;
                    font-family:
                      SFMono-Regular, Consolas, 'Liberation Mono', Menlo,
                      Courier, monospace;
                  }

                  // 列表样式
                  ul,
                  ol {
                    padding-left: 24px;
                    margin: 8px 0;
                  }

                  li {
                    margin: 4px 0;
                  }

                  // 引用样式
                  blockquote {
                    border-left: 4px solid #ccc;
                    margin: 8px 0;
                    padding: 4px 12px;
                    color: #666;
                    background-color: #f8f8f8;
                  }

                  // 链接样式
                  a {
                    color: #1677ff;
                    text-decoration: none;

                    &:hover {
                      text-decoration: underline;
                    }
                  }

                  // 表格样式
                  table {
                    border-collapse: collapse;
                    width: 100%;
                    margin: 12px 0;
                  }

                  th,
                  td {
                    border: 1px solid #ddd;
                    padding: 8px 12px;
                    text-align: left;
                  }

                  th {
                    background-color: #f5f5f5;
                    font-weight: 600;
                  }
                }
              }
            }
          }
        }
      }

      .chat-input {
        flex-shrink: 0;
        padding: 16px;
        border-top: 1px solid #f0f0f0;

        :global {
          .ant-pro-card-body {
            padding: 0 !important;
          }
        }

        .input-container {
          position: relative;

          .chat-textarea {
            :global {
              .ant-input {
                padding-right: 60px;
                resize: none;
              }
            }
          }

          .send-button {
            position: absolute;
            right: 10px;
            bottom: 10px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
          }
        }
      }
    }
  }
}
